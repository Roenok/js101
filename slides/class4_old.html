<section>
<h3>Waiting for window &quot;load&quot;</h3>
<p>When you use JS to manipulate the DOM, you should make sure the DOM exists.</p>

<p>You can either put JS at bottom of page, or listen to the "load" event:</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Mouse Events&lt;/title&gt;
&lt;script&gt;
function onLoad() {
// Setup the page
}
window.addEventListener(&quot;load&quot;, onLoad);
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</section>


<section>
<h3>The <code>window</code> object</h3>

<p>When you run JS in the browser, it gives you the <code><a target="_blank" href="https://developer.mozilla.org/en/DOM/window">window</a></code> object with many useful properties and methods:</p>

<pre><code class="javascript">window.location.href;
window.navigator.userAgent;
window.scrollTo(10, 50);
window.alert("Hello world!");</code></pre>

<p>The <code>window</code> object is the assumed global object on a page, so:</p>
<pre><code class="javascript">window.alert("Hi!");</code></pre>

<p>...is the same as:</p>
<pre><code class="javascript">alert("Hi");</code></pre>
</section>





<section>
<h3>Animation in JS</h3>

<p>The standard way to animate in JS is to use these 2 <code>window</code> methods.</p>

<p>To call a function once after a delay:</p>
<pre><code class="js">window.setTimeout(callbackFunction, delayMilliseconds);</code></pre>

<p>To call a function repeatedly, with specified interval between each call:</p>
<pre><code class="js">window.setInterval(callbackFunction, delayMilliseconds);</code></pre>

<p>Commonly used to animate DOM node attributes:</p>
<pre><code class="js">function makeImageBigger() {
var img = document.getElementsByTagName('img')[0];
img.setAttribute('width', img.width+10);
}
window.setInterval(makeImageBigger, 1000);</code></pre>
</section>





<section>
<h3>Animating Styles</h3>
<p>It's also common to animate CSS styles for size, transparency, position, and color:</p>

<pre><code class="js">var img = document.getElementsByTagName('img')[0];
img.style.opacity = 1.0;
window.setInterval(fadeAway, 1000);
function fadeAway() {
img.style.opacity = img.style.opacity - .1;
}</code></pre>

<p>Note: opacity is 1E9+ only (plus all other browsers).</p>

<pre><code class="js">var img = document.getElementsByTagName('img')[0];
img.style.position = 'absolute';
img.style.top = '0px';
function watchKittyFall() {
var oldTop = parseInt(img.style.top);
var newTop = oldTop + 10;
img.style.top = newTop + 'px';
}
window.setInterval(watchKittyFall, 1000);</code></pre>
<p>Note: you must specify (and strip) units.</p>
</section>





<section>
<h3>Stopping an Animation</h3>
<p>To stop at an animation at a certain point, store the timer into a variable and clear with one of these methods:</p>

<pre><code class="js">window.clearTimeout(timer);
window.clearInterval(timer);</code></pre>

<pre><code class="js">var img = document.getElementsByTagName('img')[0];
img.style.opacity = 1.0;
function fadeAway() {

img.style.opacity = img.style.opacity - .1;
if (img.style.opacity &lt; .5) {
window.clearInterval(fadeTimer);
}
}
var fadeTimer = window.setInterval(fadeAway, 100);</code></pre>
</section>


<section>
<h3 class="center"><a target="_blank" href="../exercises/animation.html">Exercise Time!</a></h3>
</section>




<section>
<h3>JS Best Practices</h3>
<ul>
<li>Adopt a set of good, consistent <a href="http://addyosmani.com/blog/javascript-style-guides-and-beautifiers/">coding conventions</a>.
<li>Use a code compression tool like <a href="https://github.com/mishoo/UglifyJS">UglifyJS</a>.
<li>Use libraries when appropriate, like jQuery or Zepto.
</ul>
</section>
</section>



<!--

<section>
<h3>JavaScript Libraries</h3>

<p>Libraries make it easy to write cross-browser code and to do common tasks. Some popular ones:</p>

<ul>
<li>
<a href="/speed/libraries/devguide#dojo" alt="Dojo">Dojo</a>
</li>
<li>
<a href="/speed/libraries/devguide#ext-core">Ext Core</a>
</li>
<li>
<a href="/speed/libraries/devguide#jquery" alt="jQuery.com">jQuery</a>
</li>
<li>
<a href="/speed/libraries/devguide#jqueryUI" alt="ui.jQuery.com">jQuery UI</a>
</li>
<li>
<a href="/speed/libraries/devguide#mootools" alt="MooTools">MooTools</a>
</li>
<li>
<a href="/speed/libraries/devguide#prototype" alt="Prototype">Prototype</a>
</li>
<li>
<a href="/speed/libraries/devguide#script_aculo_us" alt="script.aculo.us">script.aculo.us</a>
</li>
<li><a href="http://www.zepto.js">Zepto</a>
</ul>

</section>
</section>





<section>
<h3>Using a library</h3>

<p>To use a library, you can use the <code>script</code> tag and point it at the .js file.</p>

<p>It could be stored locally:</p>
<pre>
&lt;script src="jquery.js"&gt;&lt;/script&gt;
</pre>
<p>Or on another server ("CDN"):</p>
<pre>
&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"&gt;&lt;/script&gt;
</pre>
<p>Then you can reference the library functions in your code:</p>
<pre><code>
jQuery("#start-button").click(onClick);
</pre>
</section>
</section>
-->




<section>
<h3>Further Study</h3>

<ul>
<li>Online Tutorials (<a href="http://codecademy.com">Codecademy</a>)
<li>Books (<a href="http://eloquentjavascript.net/">Eloquent JavaScript</a>, <a href="http://www.amazon.com/Maintainable-JavaScript-Nicholas-C-Zakas/dp/1449327680/ref=sr_1_sc_1?ie=UTF8&qid=1337210266&sr=8-1-spell">Maintanable JavaScript</a>)
<li>Meetups
<li>Conferences (<a href="http://events.jquery.org/2012/sf/">jQuery Con</a>, <a href="http://2012.jsconf.us/">JSConf</a>, <a href="http://fluentconf.com/fluent2012">Fluent</a>, ...)
</ul>
</section>